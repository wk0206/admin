"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.parseChildren = parseChildren;

var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));

var React = _interopRequireWildcard(require("react"));

var _warning = _interopRequireDefault(require("rc-util/lib/warning"));

var _toArray = _interopRequireDefault(require("rc-util/lib/Children/toArray"));

function parseChildren(children, keyPath) {
  return (0, _toArray.default)(children).map(function (child, index) {
    if ( /*#__PURE__*/React.isValidElement(child)) {
      var key = child.key;

      if (key === null || key === undefined) {
        key = "tmp_key-".concat([].concat((0, _toConsumableArray2.default)(keyPath), [index]).join('-'));

        if (process.env.NODE_ENV !== 'production') {
          (0, _warning.default)(false, 'MenuItem or SubMenu should not leave undefined `key`.');
        }
      }

      return /*#__PURE__*/React.cloneElement(child, {
        key: key,
        eventKey: key
      });
    }

    return child;
  });
}